{
  "newrelic_api_key": "",
  "graphite_host": "localhost",
  "base_directory": "/data/app/data",
  "type_command": {
    "command": "/usr/local/bin/<%= @application_service_name %>",
    "arguments": ["-i", "TYPE"]
  },
  "types": {
    "docker": {
      "artifact_plugin": "Switch::Plugins::Artifact::ECR",
      "ecr_repository": "<account-id>.dkr.ecr.<region>.amazonaws.com/<registry-name>",
      "current_version_plugin": "Switch::Plugins::Version::CurrentDockerImageVersion",
      "next_version_plugin": "Switch::Plugins::Artifact::ECR",
      "plugins": {
        "pre": [
          "::StartStopProcess"
        ],
        "switch": [
          "DockerTagAndPush"
        ],
        "post": [
          "UploadVersionInformation",
          "::StartStopProcess",
          "EnableSystemdProcess",
          "DockerAutoCleanup",
          "DockerCleanup"
        ],
        "notification": [
          "Graphite"
        ]
      }
    },
    "tomcat": {
      "pattern": "p[0-9]{4}",
      "plugins": {
        "pre": [
          "StopProcess",
          "EmptyWorkingDirectory"
        ],
        "post": [
          "UploadVersionInformation",
          "StartProcess",
          "EnableSystemdProcess",
          "AutoCleanup",
          "Cleanup"
        ],
        "notification": [
          "Graphite"
        ]
      }
    },
    "service": {
      "pattern": "service",
      "plugins": {
        "pre": [
          "StopProcess"
        ],
        "post": [
          "UploadVersionInformation",
          "StartProcess",
          "EnableApplicationProcess"
        ],
        "notification": [
          "Graphite"
        ]
      }
    },
    "timer": {
      "plugins": {
        "notification": [
          "Graphite"
        ]
      }
    },
    "batch": {
      "plugins": {
        "notification": [
          "Graphite"
        ]
      }
    }
  }
}
